@model BioWings.UI.ViewModels.UserPasswordViewModels.ChangePasswordViewModel
@{
    ViewData["Title"] = "Şifre Değiştir";
    Layout = "~/Views/MainLayout/Index.cshtml";
}

@section Styles {
    <link href="~/css/password.css" rel="stylesheet" />
}

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-key me-2"></i>Şifre Değiştir
                </h3>
            </div>
            <div class="card-body">
                <div class="row justify-content-center">
                    <div class="col-lg-6 col-md-8">
                        <form id="changePasswordForm" novalidate="novalidate">
                            @Html.AntiForgeryToken()

                            <div class="fv-row mb-7">
                                <label class="required fs-6 fw-semibold mb-2">Mevcut Şifre</label>
                                <div class="position-relative">
                                    <input type="password" 
                                           asp-for="CurrentPassword" 
                                           id="CurrentPassword"
                                           class="form-control form-control-solid" 
                                           placeholder="Mevcut şifrenizi giriniz" 
                                           autocomplete="current-password" />
                                    <span class="password-toggle position-absolute top-50 end-0 translate-middle-y me-3">
                                        <i class="fas fa-eye-slash" onclick="togglePassword('CurrentPassword')"></i>
                                    </span>
                                </div>
                                <div class="fv-plugins-message-container invalid-feedback"></div>
                            </div>

                            <div class="fv-row mb-3">
                                <label class="required fs-6 fw-semibold mb-2">Yeni Şifre</label>
                                <div class="position-relative">
                                    <input type="password" 
                                           asp-for="NewPassword" 
                                           id="NewPassword"
                                           class="form-control form-control-solid" 
                                           placeholder="Yeni şifrenizi giriniz" 
                                           autocomplete="new-password" />
                                    <span class="password-toggle position-absolute top-50 end-0 translate-middle-y me-3">
                                        <i class="fas fa-eye-slash" onclick="togglePassword('NewPassword')"></i>
                                    </span>
                                </div>
                                <div class="fv-plugins-message-container invalid-feedback"></div>
                            </div>

                            <div class="mb-7">
                                <div class="password-requirements text-muted">
                                    <div class="password-requirement">
                                        <i class="fas fa-circle requirement-unmet" id="min-length"></i>
                                        <span>En az 8 karakter uzunluğunda</span>
                                    </div>
                                    <div class="password-requirement">
                                        <i class="fas fa-circle requirement-unmet" id="has-uppercase"></i>
                                        <span>En az bir büyük harf (A-Z)</span>
                                    </div>
                                    <div class="password-requirement">
                                        <i class="fas fa-circle requirement-unmet" id="has-lowercase"></i>
                                        <span>En az bir küçük harf (a-z)</span>
                                    </div>
                                    <div class="password-requirement">
                                        <i class="fas fa-circle requirement-unmet" id="has-number"></i>
                                        <span>En az bir rakam (0-9)</span>
                                    </div>
                                    <div class="password-requirement">
                                        <i class="fas fa-circle requirement-unmet" id="has-special"></i>
                                        <span>En az bir özel karakter (!#$%^&*)</span>
                                    </div>
                                    <div class="password-requirement" style="visibility: hidden;">
                                        <i class="fas fa-circle requirement-unmet" id="passwords-match"></i>
                                        <span>Şifreler eşleşiyor</span>
                                    </div>
                                </div>
                            </div>

                            <div class="fv-row mb-7">
                                <label class="required fs-6 fw-semibold mb-2">Yeni Şifre Tekrar</label>
                                <div class="position-relative">
                                    <input type="password" 
                                           asp-for="ConfirmNewPassword" 
                                           id="ConfirmNewPassword"
                                           class="form-control form-control-solid" 
                                           placeholder="Yeni şifrenizi tekrar giriniz" 
                                           autocomplete="new-password" />
                                    <span class="password-toggle position-absolute top-50 end-0 translate-middle-y me-3">
                                        <i class="fas fa-eye-slash" onclick="togglePassword('ConfirmNewPassword')"></i>
                                    </span>
                                </div>
                                <div class="fv-plugins-message-container invalid-feedback"></div>
                            </div>

                            <div class="text-center">
                                <button type="button" class="btn btn-light me-3" onclick="window.history.back()">
                                    <i class="fas fa-arrow-left me-2"></i>Geri
                                </button>
                                <button type="submit" id="submitBtn" class="btn btn-primary">
                                    <span class="indicator-label">
                                        <i class="fas fa-save me-2"></i>Şifre Değiştir
                                    </span>
                                    <span class="indicator-progress">
                                        Lütfen bekleyin...
                                        <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                    </span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/password/change-password/password-validation.js"></script>
    <script src="~/js/password/change-password/password-utils.js"></script>
    <script src="~/js/password/change-password/change-password.js"></script>
} 